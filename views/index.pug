extends layout

block content
  h1 Brisbane Events Explorer
  h2 Find events for you!
  p Select your desired options belowe to ensure you're always at the best event, at the optimum time. 
  ul Filters: 
    li No rain
    li No UV protection required
  p Up to the next 200 events shown below:

  table(style='width:100%', border='1')
    tr
      th Event
      th Starts
      th Ends
      th Image
      each event in events
        tr
          td 
            button.eventTitle #{event.title} 
          td #{event.startDateTime}
          td #{event.endDateTime}
          td
            //- Make sure that eventImage is not null
            if event.eventImage != NULL
              - const eventImageObjString = JSON.stringify(event.eventImage)
              - const eventImageObj = JSON.parse(eventImageObjString)
              - const eventImageUrl = JSON.stringify(eventImageObj.url);
              img.image(src=eventImageUrl)
              //- Temporarily add image url in to cell below
              p #{eventImageUrl}
            else
              div Image not found



